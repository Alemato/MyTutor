<div [hidden]="!loading" class="loading-container">
  <ion-spinner name="crescent" class="loading-spinner"></ion-spinner>
</div>

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="ml--56">MyTutor</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="(user$ | async) as user">
  <div class="mx-auto fit-content">
    <ion-icon *ngIf="user.image === null || user.image === '' || user.image ===' '; else imgBlock"
              name="contact" class="fs-100" color="primary"></ion-icon>
  </div>
  <ng-template #imgBlock>
    <ion-avatar class="center ion-margin-top w-100 h-100">
      <img src="{{user.image}}" alt="img" class="w-100px h-100">
    </ion-avatar>
  </ng-template>
    <ion-grid>

      <ion-row>
        <ion-col size="12" class="py-0"><h1
                class="ion-no-margin font-weight-400 ls-01em select-full-width">{{user.name}} {{user.surname}}</h1>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="user.roles === 1" class="ion-margin-bottom">
        <ion-col size="12" class="py-0">
          <ion-text color="medium"><h2 class="ion-no-margin select-full-width"><b>{{"STUDENT"|translate}}</b></h2>
          </ion-text>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="user.roles === 2">
        <ion-col size="12" class="py-0">
          <ion-text color="medium"><h2 class="ion-no-margin select-full-width"><b>{{"TEACHER"|translate}}</b></h2></ion-text>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="user.roles === 2">
        <ion-col size="12" class="py-0 ion-margin-bottom">
          <ion-text color="medium"><h6 class="ion-no-margin select-full-width"><b>{{this.age}} {{"AGE"|translate}}</b></h6>
          </ion-text>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="ion-padding-horizontal ion-margin-bottom bc-1ba7bc">

          <ion-row>
            <ion-col>
              <ion-text color="light"><h1><b>Account Info</b></h1></ion-text>
            </ion-col>
          </ion-row>

          <ion-row class="ion-margin-bottom">
            <ion-col size="auto" class="pt-3">
              <ion-icon class="fs-45" color="light" name="calendar"></ion-icon>
            </ion-col>
            <ion-col>
              <ion-text color="light">
                <h6 class="ion-no-margin"><b>{{"BIRTHDAY"|translate}}</b></h6>
              </ion-text>
              <ion-text color="light">
                <h6 class="ion-no-margin font-weight-400">{{user.birthday | date:"dd/MM/yyyy"}}</h6>
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="user.roles === 2" class="ion-margin-bottom">
            <ion-col size="auto">
              <ion-icon class="fs-45" color="light" name="pin"></ion-icon>
            </ion-col>
            <ion-col>
              <ion-text color="light">
                <h6 class="ion-no-margin"><b>{{"PLACE_LESSON_TEXT"|translate}}</b></h6>
              </ion-text>
              <ion-text color="light">
                <h6 class="ion-no-margin font-weight-400">{{user.region}}
                  , {{user.city}} {{user.postCode}}</h6>
              </ion-text>
              <ion-text color="light">
                <h6 class="ion-no-margin font-weight-400">{{user.street}} {{user.streetNumber}}</h6>
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="user.roles === 2" class="ion-margin-bottom">
            <ion-col size="auto" class="pt-3">
              <ion-icon class="fs-45" color="light"
                        name="information-circle-outline"></ion-icon>
            </ion-col>
            <ion-col>
              <ion-text color="light">
                <h6 class="ion-no-margin"><b>{{"BIOGRAPHY_LABEL"|translate}}</b></h6>
              </ion-text>
              <ion-text color="light">
                <h6 class="ion-no-margin font-weight-400">{{user.byography}}</h6>
              </ion-text>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="user.roles === 1" class="ion-margin-bottom">
            <ion-col size="auto" class="pt-3">
              <ion-icon class="fs-45" color="light"
                        name="information-circle-outline"></ion-icon>
            </ion-col>
            <ion-col>
              <ion-text color="light">
                <h6 class="ion-no-margin"><b>{{"STUDY_GRADE_INPUT"|translate}}</b></h6>
              </ion-text>
              <ion-text color="light">
                <h6 class="ion-no-margin font-weight-400" *ngIf="user.studyGrade!=='' && user.studyGrade!==null; else ndBlock">{{user.studyGrade}}</h6>
                <ng-template #ndBlock>
                  <h6 class="ion-no-margin font-weight-400">{{"NOT_AVAILABLE"|translate}}</h6>
                </ng-template>
              </ion-text>
            </ion-col>
          </ion-row>

        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>
